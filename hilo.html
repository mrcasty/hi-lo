<!DOCTYPE html>
<html lang="th">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>ไฮโล (Hi Lo) – Grid Prototype</title>
        <style>
            :root { --line: #000; --text: #000; --accent-red: #c21807; }
            html, body { height: 100%; }
            body {
                margin: 0;
                background: #fff;
                color: var(--text);
                font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans Thai", sans-serif;
            }
            .wrap { max-width: 960px; margin: 20px auto; padding: 12px; }
            .grid {
                display: grid;
                grid-template-columns: repeat(6, 1fr);
                /* rows auto-size; cells enforce squares via aspect-ratio */
                grid-auto-rows: 1fr;
                gap: 0; /* internal lines drawn via borders */
                user-select: none;
            }
            .cell {
                position: relative;
                display: flex;
                align-items: center;
                justify-content: center;
                padding: 4px;
                cursor: pointer;
                background: #fff;
                /* perfect squares */
                aspect-ratio: 1 / 1;
            }
            /* Internal grid lines only: top border for rows > 1, left border for cols > 1 */
            .cell[data-row]:not([data-row="0"]) { border-top: 3px solid var(--line); }
            .cell[data-col]:not([data-col="0"]) { border-left: 3px solid var(--line); }
            /* Remove separator between (2,0) and (3,0): remove left border of (row 0, col 3) */
            .cell[data-row="0"][data-col="3"] { border-left: none !important; }

            .content {
                display: flex;
                width: 100%;
                height: 100%;
                align-items: center;
                justify-content: center;
                gap: 12px;
            }
            .token { font-size: 56px; line-height: 1; color: var(--text); }
            .token.red { color: var(--accent-red); }
            .thai { font-size: 52px; }

            /* Dice face (SVG) wrapper sizing */
            .die { width: 85%; height: 85%; display: block; }
            .die svg { width: 100%; height: 100%; display: block; }
            .rolled .die { width: 52px; height: 52px; }

            /* Selection and result highlighting (stay monochrome) */
            .cell.selected { box-shadow: inset 0 0 0 4px #000; }
            .cell.win { background: rgba(0,0,0,0.06); }
            .cell.lose { background: rgba(0,0,0,0.02); }

            .controls { display: flex; align-items: center; gap: 12px; margin: 10px 0 14px; flex-wrap: wrap; }
            .controls button { padding: 8px 14px; border: 2px solid #000; background: #fff; cursor: pointer; }
            .controls button:disabled { opacity: 0.6; cursor: not-allowed; }
            .dicePanel {
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                /* occupy full row in the wrapped controls to center content */
                flex: 1 0 100%;
                width: 100%;
            }
            .rolled { display: inline-flex; gap: 10px; align-items: center; justify-content: center; min-height: 44px; }
            .status { font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; font-size: 14px; opacity: 0.8; min-height: 20px; text-align: center; }
            .balance {
                display: inline-flex;
                align-items: baseline;
                justify-content: space-between;
                gap: 8px;
                border: 2px solid #000;
                padding: 6px 10px;
                width: 220px;
                font-size: 20px;
                font-variant-numeric: tabular-nums;
            }
            .chips { display: inline-flex; gap: 6px; }
            .chip { padding: 6px 10px; border: 2px solid #000; background: #fff; cursor: pointer; }
            .chip.active { background: #000; color: #fff; }
            .amt { position: absolute; right: 6px; bottom: 6px; font-size: 14px; background: #000; color: #fff; padding: 2px 6px; }
        </style>
        <script src="hilo-logic.js" defer></script>
        <script src="hilo-ui.js" defer></script>
    </head>
    <body>
        <div class="wrap">
            <h2 style="margin: 0 0 12px 0; font-weight: 700;">ไฮโล (Hi Lo) – 6×4 Grid Prototype</h2>
            <div class="controls">
                <span class="balance">Balance: $<span id="balance">1000</span></span>
                <span>Chip:</span>
                <span id="chips" class="chips"></span>
                <button id="refundBtn">Clear Bets</button>
                <button id="resetBtn">New Game</button>
                <button id="rollBtn">Roll</button>
                <div class="dicePanel">
                    <div id="rolled" class="rolled" aria-live="polite"></div>
                    <div class="status" id="status">Ready.</div>
                </div>
            </div>
            <div id="grid" class="grid" role="grid" aria-label="Hi Lo betting grid"></div>
            <p style="margin-top: 12px; font-size: 14px; color: #333;">
                Notes: internal lines only (no outer border). Click any cell to log its coordinates.
                Dice faces for _1–_6 use red pips for 1 and 4.
            </p>
        </div>
    </body>
    </html>
